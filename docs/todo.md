## todo

## v1
- [x] Before all
    - [x] Настроить иерархию папок в проекте
- [x] Backend
    - [x] Задиплоить приложение на Heroku (https://loev-drone-cafe.herokuapp.com)
    - [x] User API
		- [x] Добавление в заказ по роуту post('/:id/orders/')
	- [x] DB
		- [x] Подключить mongoose на Heroku
		- [x] Пользователи (users)
			- [x] Создание пользователя (name, email) с уникальностью по email
			- [x] Поиск пользователя по email
			- [x] Добавить пользователю свойства: баланс, профиль (клиент, повар)
			- [x] Сделать изменение баланса по put users/balance в теле сообщения передавать email
		- [x] Заказы
			- [x] Создание заказа itemid, userid, dateadd, title, ingredients: [], price, status, deleted
			- [x] Удаление блюда с флагом deleted
			- [x] Изменение статуса блюда по id заказа (status)
			- [x] Вернуть список блюд с фильтрацией по статусу
- [ ] FrontEnd
	- [x] Подключить Angular Material
	- [x] Компонент авторизации
		- [x] Сделать проверку пользователя в БД по email
		- [x] Сделать выбор профиля (повар, клиент)
		- [x] Создавать нового пользователя в БД и на его счет добавить 100 Галактических кредитов
		- [x] Скрыть компонент авторизации после загрузки пользователя из БД
		- [x] Если пользователь определен как клиент, то отобразить компонент клиент
		- [x] Если пользователь определен как повар, то отобразить компонент повара
	- [ ] Компонент меню
		- [x] Загрузка меню в контроллер из ..\app\public\menu.json
		- [x] Отображение меню в виде карточек
		- [x] Добавление в заказ
		- [ ] Контролировать баланс клиента (блокировать кнопку заказать и отображать недостающую сумму)
	- [ ] Компонент заказ
		- [x] Показывать добавленные блюда в заказ
		- [x] Отправка заказанных блюд на кухню (изменить статус на "Заказано")
		- [ ] Показывать общую стоимость заказа
		- [ ] Очищать заказ после успешной отправки на кухню
	- [x] Компонент клиента	
		- [x] Оформить заголовок с балансом пользователя
		- [x] Сделать возможность пополнения баланса (заглушка ++100 единиц)
		- [x] Подключить компонент меню
		- [x] Подключить компонент заказа
	- [ ] Компонент повара
		- [x] Отобразить список блюд с селектором по текущему статусу
		- [x] Сделать возможность перевести блюдо в статус "Готовится", если статус "заказано"
		- [x] Сделать возможность перевести блюдо в статус "Доставляется", если статус "Готовится"
	- [ ] Подключить дронов
		- [ ] Подключить netology-fake-drone-api
		- [ ] Сделать возможность перевести блюдо в статус "Подано" из "Доставляется" при успешной доставке
		- [ ] Сделать возможность перевести блюдо в статус "Возникли сложности" из "Доставляется" при не успешной доставке
		- [ ] Из состояния «подано» и «возникли сложности» блюдо удаляется через 2 минуты с момента перехода в это состояние
		- [ ] Из состояния «возникли сложности» надо вернуть деньги на счет клиента

- [ ] Tests
	- [x] Проверка доступности сервера
	- [x] Проверка доступности БД
	- [x] Проверка работы User API
	- [ ] Проверка работы приложения

## v2
- [ ] Снабдить заказанные блюда в интерфейсе клиента таймером, который стартует когда блюда заказано и останавливается когда «подано»
- [ ] Снабдить блюда в интерфейсе повара в списке готовятся таймером, который стартует с момента начала приготовления и останавливается при завершении
- [ ] Дать возможность клиенту выбрать что делать с блюдом доставка которого не состоялась. Отменить заказ. Или повторить со скидкой 5%
- [ ] Убрать инъекции https://thecodebarbarian.wordpress.com/2014/09/04/defending-against-query-selector-injection-attacks/
- [ ] Удалить из БД кривые записи, которые были созданы в момент разработки
